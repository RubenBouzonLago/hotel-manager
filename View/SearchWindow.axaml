<UserControl xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:core="using:TRABAJO_GRUPAL_AVALONIA.Core"
        x:Class="TRABAJO_GRUPAL_AVALONIA.View.SearchWindow">
    <Grid RowDefinitions="Auto, Auto, *">
        <StackPanel Grid.Row="0" Margin="20" Spacing="10">
            <TextBlock Text="Búsquedas Avanzadas" FontSize="24" FontWeight="Bold"/>
            
            <TextBlock Text="Tipo de Búsqueda:"/>
            <ComboBox Name="CboTipoBusqueda" HorizontalAlignment="Stretch" SelectedIndex="0">
                <ComboBoxItem>Reservas Pendientes (Próximos 5 días)</ComboBoxItem>
                <ComboBoxItem>Disponibilidad (Habitaciones Vacías)</ComboBoxItem>
                <ComboBoxItem>Reservas por Persona</ComboBoxItem>
                <ComboBoxItem>Reservas por Habitación</ComboBoxItem>
                <ComboBoxItem>Ocupación</ComboBoxItem>
            </ComboBox>

            <!-- Parámetros dinámicos -->
            <StackPanel Name="PanelCliente" IsVisible="False">
                <TextBlock Text="Cliente:"/>
                <ComboBox Name="CboCliente" HorizontalAlignment="Stretch" PlaceholderText="Selecciona un cliente">
                    <ComboBox.ItemTemplate>
                        <DataTemplate x:DataType="core:Cliente">
                            <TextBlock Text="{Binding DNI}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </StackPanel>

            <StackPanel Name="PanelHabitacion" IsVisible="False">
                <TextBlock Text="Habitación (Dejar vacío para todas):"/>
                <ComboBox Name="CboHabitacion" HorizontalAlignment="Stretch" PlaceholderText="Selecciona una habitación">
                    <ComboBox.ItemTemplate>
                        <DataTemplate x:DataType="core:Habitacion">
                            <TextBlock Text="{Binding Numero}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </StackPanel>

            <StackPanel Name="PanelPiso" IsVisible="False">
                <TextBlock Text="Piso (Opcional):"/>
                <TextBox Name="TxtPiso" Watermark="Ej: 1"/>
            </StackPanel>

            <StackPanel Name="PanelFecha" IsVisible="False">
                <TextBlock Text="Fecha Específica (Si no se filtra por año):"/>
                <DatePicker Name="DpFecha" HorizontalAlignment="Stretch"/>
            </StackPanel>

            <StackPanel Name="PanelAnio" IsVisible="False" Orientation="Horizontal" Spacing="10" Margin="0,10,0,0">
                <CheckBox Name="ChkFiltrarAnio" Content="Filtrar por Año:"/>
                <TextBox Name="TxtAnio" Width="100" IsEnabled="{Binding #ChkFiltrarAnio.IsChecked}" Watermark="Ej: 2025"/>
            </StackPanel>
        </StackPanel>

        <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="10" Margin="20,0,20,10">
            <Button Name="BtnBuscar" Content="Buscar" Background="LightBlue"/>
        </StackPanel>

        <Border Grid.Row="2" Margin="20" BorderBrush="Gray" BorderThickness="1">
            <ListBox Name="LstResultados">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" TextWrapping="Wrap"/>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
    </Grid>
</UserControl>